{"ast":null,"code":"import axios from \"axios\";\nconst IP_URL = \"http://192.168.x.x:8000\"; // Replace with your actual IP address\n\nasync function fetchWithFallback(datapath, options = {}) {\n  try {\n    const response = await axios({\n      url: datapath,\n      ...options\n    });\n    return response.data;\n  } catch (error) {\n    console.warn(\"Localhost not reachable, trying IP address...\");\n    const fallbackPath = datapath.replace(\"http://localhost:8000\", IP_URL);\n    const response = await axios({\n      url: fallbackPath,\n      ...options\n    });\n    return response.data;\n  }\n}\nexport async function getData(datapath) {\n  const response = await axios.get(datapath);\n  console.log(\"Data path: \" + datapath);\n  return response.data;\n}\nexport async function getDataAndHeader(datapath, header) {\n  const response = await axios.get(datapath, {\n    headers: {\n      authorization: `${header}`\n    }\n  });\n  console.log(\"Response data: \" + response.data);\n  return response.data;\n}\nexport async function getDataDynamic(datapath, token = null) {\n  const config = token ? {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}` // Add the token\n    }\n  } : {};\n  const response = await axios.get(datapath, {}, config);\n  console.log(\"Response data: \" + response.data);\n  return response.data;\n}\nexport async function fetchUserDetails(token = null) {\n  const config = token ? {\n    headers: {\n      Authorization: `Bearer ${token}` // Add the token\n    }\n  } : {};\n  const response = await axios.post(\"http://127.0.0.1:8000/researcher/researcher/auto_login\", {}, config);\n  console.log(\"Response data: \" + response.data);\n  return response.data;\n}\nexport async function postData(datapath, header, data) {\n  const response = await axios.post(datapath, data, header);\n  console.log(\"Response data: \" + response.data);\n  return response.data;\n}\nexport async function postData2(datapath, data, config) {\n  try {\n    const response = await axios.post(datapath, data, config); // Send request with config\n    return response.data;\n  } catch (error) {\n    throw error; // Handle error appropriately\n  }\n}\nexport async function putData(datapath, header, data) {\n  const response = await axios.put(datapath, data, {\n    headers: {\n      authorization: `${header}`\n    }\n  });\n  return response.data;\n}\nexport async function patchData(datapath, header, data) {\n  const response = await axios.patch(datapath, data, {\n    headers: {\n      authorization: `${header}`\n    }\n  });\n  return response.data;\n}\nexport async function getImgData(datapath) {\n  try {\n    const response = await axios.get(datapath, {\n      responseType: \"blob\"\n    });\n    return URL.createObjectURL(response.data);\n  } catch (error) {\n    console.error(\"Error fetching image data:\", error);\n    throw error;\n  }\n}","map":{"version":3,"names":["axios","IP_URL","fetchWithFallback","datapath","options","response","url","data","error","console","warn","fallbackPath","replace","getData","get","log","getDataAndHeader","header","headers","authorization","getDataDynamic","token","config","Authorization","fetchUserDetails","post","postData","postData2","putData","put","patchData","patch","getImgData","responseType","URL","createObjectURL"],"sources":["D:/project/SE-LABS-Website/src/api/api-method.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst IP_URL = \"http://192.168.x.x:8000\"; // Replace with your actual IP address\r\n\r\nasync function fetchWithFallback(datapath, options = {}) {\r\n    try {\r\n        const response = await axios({\r\n            url: datapath,\r\n            ...options,\r\n        });\r\n        return response.data;\r\n    } catch (error) {\r\n        console.warn(\"Localhost not reachable, trying IP address...\");\r\n        const fallbackPath = datapath.replace(\"http://localhost:8000\", IP_URL);\r\n        const response = await axios({\r\n            url: fallbackPath,\r\n            ...options,\r\n        });\r\n        return response.data;\r\n    }\r\n}\r\n\r\nexport async function getData(datapath) {\r\n    const response = await axios.get(datapath);\r\n    console.log(\"Data path: \" + datapath);\r\n\r\n    return response.data;\r\n}\r\nexport async function getDataAndHeader(datapath, header) {\r\n    const response = await axios.get(datapath, {\r\n        headers: {\r\n            authorization: `${header}`,\r\n        },\r\n    });\r\n    console.log(\"Response data: \" + response.data);\r\n    return response.data;\r\n}\r\n\r\nexport async function getDataDynamic(datapath, token = null) {\r\n    const config = token\r\n        ? {\r\n              headers: {\r\n                  \"Content-Type\": \"application/json\",\r\n\r\n                  Authorization: `Bearer ${token}`, // Add the token\r\n              },\r\n          }\r\n        : {};\r\n    const response = await axios.get(datapath, {}, config);\r\n    console.log(\"Response data: \" + response.data);\r\n    return response.data;\r\n}\r\nexport async function fetchUserDetails(token = null) {\r\n    const config = token\r\n        ? {\r\n              headers: {\r\n                  Authorization: `Bearer ${token}`, // Add the token\r\n              },\r\n          }\r\n        : {};\r\n    const response = await axios.post(\r\n        \"http://127.0.0.1:8000/researcher/researcher/auto_login\",\r\n        {},\r\n        config\r\n    );\r\n    console.log(\"Response data: \" + response.data);\r\n    return response.data;\r\n}\r\n\r\nexport async function postData(datapath, header, data) {\r\n    const response = await axios.post(datapath, data, header);\r\n    console.log(\"Response data: \" + response.data);\r\n    return response.data;\r\n}\r\nexport async function postData2(datapath, data, config) {\r\n    try {\r\n        const response = await axios.post(datapath, data, config); // Send request with config\r\n        return response.data;\r\n    } catch (error) {\r\n        throw error; // Handle error appropriately\r\n    }\r\n}\r\nexport async function putData(datapath, header, data) {\r\n    const response = await axios.put(datapath, data, {\r\n        headers: {\r\n            authorization: `${header}`,\r\n        },\r\n    });\r\n    return response.data;\r\n}\r\n\r\nexport async function patchData(datapath, header, data) {\r\n    const response = await axios.patch(datapath, data, {\r\n        headers: {\r\n            authorization: `${header}`,\r\n        },\r\n    });\r\n    return response.data;\r\n}\r\n\r\nexport async function getImgData(datapath) {\r\n    try {\r\n        const response = await axios.get(datapath, { responseType: \"blob\" });\r\n        return URL.createObjectURL(response.data);\r\n    } catch (error) {\r\n        console.error(\"Error fetching image data:\", error);\r\n        throw error;\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}