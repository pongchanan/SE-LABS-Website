{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\SE-LABS-Website\\\\frontend\\\\src\\\\component\\\\etc\\\\exampleForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { postData, postData2 } from \"api/api-method\"; // Assuming you have this utility function\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyFormComponent = () => {\n  _s();\n  const [title2, setTitle] = useState(\"a\");\n  const [body2, setDescription] = useState(\"ab\");\n  const [file, setFile] = useState(null);\n  const handleFileChange = e => {\n    setFile(e.target.files[0]);\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Create FormData object\n    const formData = new FormData();\n    // formData.append(\"title\", title);\n    console.log(body2);\n\n    // formData.append(\"news\", body);\n    console.log(file);\n    const news = {\n      title: title2,\n      body: body2,\n      related_laboratory: {\n        LID: \"1e53d026-017a-4635-8a32-073e1794b5cf\",\n        related_research: {\n          RID: \"3b8be3a4-06cf-4355-b6a5-b27de60782fb\"\n        }\n      }\n    };\n    // Construct the related laboratory and research object\n    formData.append(\"news\", JSON.stringify(news));\n    if (file) {\n      formData.append(\"image\", file);\n    }\n    for (let [key, value] of formData.entries()) {\n      console.log(key, value);\n    }\n    const relatedLaboratory = {\n      LID: \"1e53d026-017a-4635-8a32-073e1794b5cf\",\n      related_research: {\n        RID: \"3b8be3a4-06cf-4355-b6a5-b27de60782fb\"\n      }\n    };\n\n    // Get the token from localStorage\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      console.log(formData);\n      // formData.append(\"related_laboratory\", JSON.stringify(relatedLaboratory));\n\n      // Construct request configuration with Authorization header\n      const config = {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          // Correct MIME type for file uploads\n          Authorization: `Bearer ${token}` // Add the token\n        }\n      };\n      // Send the form data using your postData function\n      try {\n        const response = await postData2(\"http://127.0.0.1:8000/researcher/news?research_id=3b8be3a4-06cf-4355-b6a5-b27de60782fb\",\n        // URL for the API endpoint\n        formData,\n        // The formData as body of the request\n        config // Configuration with headers\n        );\n        console.log(\"File uploaded successfully\", response.data);\n      } catch (error) {\n        console.error(\"Error uploading file:\", error);\n      }\n    } else {\n      console.log(\"No token found\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Form to Submit News\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title2,\n        onChange: e => setTitle(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Description:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: body2,\n        onChange: e => setDescription(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"File:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: handleFileChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(MyFormComponent, \"nsKmXu03MVXi1R2XMwitok2bLSw=\");\n_c = MyFormComponent;\nexport default MyFormComponent;\nvar _c;\n$RefreshReg$(_c, \"MyFormComponent\");","map":{"version":3,"names":["React","useState","axios","postData","postData2","jsxDEV","_jsxDEV","MyFormComponent","_s","title2","setTitle","body2","setDescription","file","setFile","handleFileChange","e","target","files","handleSubmit","preventDefault","formData","FormData","console","log","news","title","body","related_laboratory","LID","related_research","RID","append","JSON","stringify","key","value","entries","relatedLaboratory","token","localStorage","getItem","config","headers","Authorization","response","data","error","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","required","_c","$RefreshReg$"],"sources":["D:/project/SE-LABS-Website/frontend/src/component/etc/exampleForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { postData, postData2 } from \"api/api-method\"; // Assuming you have this utility function\r\n\r\nconst MyFormComponent = () => {\r\n  const [title2, setTitle] = useState(\"a\");\r\n  const [body2, setDescription] = useState(\"ab\");\r\n  const [file, setFile] = useState(null);\r\n\r\n  const handleFileChange = (e) => {\r\n    setFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Create FormData object\r\n    const formData = new FormData();\r\n    // formData.append(\"title\", title);\r\n    console.log(body2);\r\n\r\n    // formData.append(\"news\", body);\r\n    console.log(file);\r\n    const news = {\r\n      title: title2,\r\n      body: body2,\r\n      related_laboratory: {\r\n        LID: \"1e53d026-017a-4635-8a32-073e1794b5cf\",\r\n        related_research: {\r\n          RID: \"3b8be3a4-06cf-4355-b6a5-b27de60782fb\",\r\n        },\r\n      },\r\n    };\r\n    // Construct the related laboratory and research object\r\n    formData.append(\"news\", JSON.stringify(news));\r\n    if (file) {\r\n      formData.append(\"image\", file);\r\n    }\r\n    for (let [key, value] of formData.entries()) {\r\n      console.log(key, value);\r\n    }\r\n\r\n    const relatedLaboratory = {\r\n      LID: \"1e53d026-017a-4635-8a32-073e1794b5cf\",\r\n      related_research: {\r\n        RID: \"3b8be3a4-06cf-4355-b6a5-b27de60782fb\",\r\n      },\r\n    };\r\n\r\n    // Get the token from localStorage\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      console.log(formData);\r\n      // formData.append(\"related_laboratory\", JSON.stringify(relatedLaboratory));\r\n\r\n      // Construct request configuration with Authorization header\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\", // Correct MIME type for file uploads\r\n          Authorization: `Bearer ${token}`, // Add the token\r\n        },\r\n      };\r\n      // Send the form data using your postData function\r\n      try {\r\n        const response = await postData2(\r\n          \"http://127.0.0.1:8000/researcher/news?research_id=3b8be3a4-06cf-4355-b6a5-b27de60782fb\", // URL for the API endpoint\r\n          formData, // The formData as body of the request\r\n          config // Configuration with headers\r\n        );\r\n        console.log(\"File uploaded successfully\", response.data);\r\n      } catch (error) {\r\n        console.error(\"Error uploading file:\", error);\r\n      }\r\n    } else {\r\n      console.log(\"No token found\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <h4>Form to Submit News</h4>\r\n      <div>\r\n        <label>Title:</label>\r\n        <input\r\n          type=\"text\"\r\n          value={title2}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>Description:</label>\r\n        <textarea\r\n          value={body2}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>File:</label>\r\n        <input type=\"file\" onChange={handleFileChange} required />\r\n      </div>\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default MyFormComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}